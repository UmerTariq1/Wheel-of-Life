
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0ea5e9" />
  <title>Wheel of Life Tracker</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%230ea5e9'/%3E%3Cpath d='M50 2 v96 M2 50 h96 M18 18 l64 64 M18 82 l64-64' stroke='white' stroke-width='6'/%3E%3C/svg%3E" />
  <link rel="stylesheet" href="style.css" />
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" defer></script>
  <!-- GSAP for micro animations -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js" defer></script>
  <!-- Canvas Confetti for celebrations -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.4/dist/confetti.browser.min.js"></script>
  <script src="script.js" defer></script>
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <span class="logo">â—”</span>
      <h1>Wheel of Life Tracker</h1>
    </div>
    <div class="header-actions">
      <button id="aboutBtn" class="btn info" aria-label="About"> About</button>
      <button id="themeToggle" class="btn ghost" aria-label="Toggle theme">ðŸŒ—</button>
      <button id="viewEntriesBtn" class="btn">View All Entries</button>
      <button id="exportBtn" class="btn ghost">Export JSON</button>
      <button id="importBtn" class="btn ghost">Import JSON</button>
      <button id="clearDataBtn" class="btn danger">Clear Data</button>
    </div>
  </header>

  <main class="grid">
    <!-- LEFT: Averages -->
    <section class="panel" id="leftPanel">
      <h2>Current Averages</h2>
      <p class="muted">Aggregate of all saved entries. Hover to inspect. Handles empty state.</p>
      <div class="chart-wrap">
        <canvas id="avgChart" aria-label="Average Wheel" role="img"></canvas>
      </div>
      <div class="stats" id="avgStats"></div>
    </section>

    <!-- RIGHT: New Entry -->
    <section class="panel" id="rightPanel">
      <h2>New Entry</h2>
      <p class="muted">Tap a spoke in the wheel, then drag in/out to set a value from 0â€“10. Click again to fineâ€‘tune.</p>
      <div class="chart-wrap entry">
        <canvas id="entryChart" aria-label="Entry Wheel" role="img"></canvas>
      </div>
      <form id="entryForm" class="entry-form">
        <div class="row">
          <label for="entryDate">Date</label>
          <input type="date" id="entryDate" required />
        </div>
        <div class="row">
          <label for="entryNote">Short note</label>
          <input type="text" id="entryNote" maxlength="120" placeholder="Feeling more balanced this week" />
        </div>
        <div class="actions">
          <button type="button" id="resetEntryBtn" class="btn ghost">Reset</button>
          <button type="submit" id="saveBtn" class="btn primary">Save Entry</button>
        </div>
        <input type="hidden" id="editId" />
      </form>
    </section>
  </main>

  <!-- Entries Modal -->
  <dialog id="entriesModal" class="modal">
    <div class="modal-head">
      <h3>All Entries</h3>
      <button class="btn ghost close" id="closeEntries">âœ•</button>
    </div>
    <div id="entriesList" class="entries-list"></div>
  </dialog>

  <!-- Import Modal -->
  <dialog id="importModal" class="modal">
    <div class="modal-head">
      <h3>Import Data</h3>
      <button class="btn ghost close" id="closeImport">âœ•</button>
    </div>
    <div class="modal-body">
      <p class="muted">Upload a JSON file to restore your Wheel of Life entries.</p>
      <div class="import-info">
        <h4>Expected Format:</h4>
        <pre><code>[
  {
    "id": "1696704000000",
    "date": "2025-10-07",
    "scores": {
      "Business / Career": 8,
      "Finances": 7,
      "Health": 6,
      "Family and Friends": 9,
      "Romance": 5,
      "Personal Development": 7,
      "Fun and Recreation": 8,
      "Contribution to Society": 6
    },
    "note": "Feeling balanced this week"
  }
]</code></pre>
      </div>
      <div class="file-upload-area">
        <label for="importFileInput" class="btn primary upload-btn">
          Choose File
          <input type="file" id="importFileInput" accept="application/json" hidden />
        </label>
        <span id="fileName" class="file-name">No file selected</span>
      </div>
    </div>
  </dialog>

  <!-- Entry Detail Modal -->
  <dialog id="entryDetailModal" class="modal detail-modal">
    <div class="modal-head">
      <h3>Entry Details</h3>
      <button class="btn ghost close" id="closeDetail">âœ•</button>
    </div>
    <div class="modal-body detail-content">
      <div class="detail-meta">
        <div class="detail-date"></div>
        <div class="detail-note"></div>
      </div>
      <div class="detail-chart-wrap">
        <canvas id="detailChart" aria-label="Entry Detail Chart" role="img"></canvas>
      </div>
      <div class="detail-scores"></div>
    </div>
  </dialog>

  <!-- About Modal -->
  <dialog id="aboutModal" class="modal about-modal">
    <div class="modal-head">
      <h3>About Wheel of Life Tracker</h3>
      <button class="btn ghost close" id="closeAbout">âœ•</button>
    </div>
    <div class="modal-body about-content">
      <section class="about-section">
        <h4>What is the Wheel of Life?</h4>
        <p>The Wheel of Life is a powerful self-assessment tool used in coaching and personal development to help you visualize the balance across different areas of your life. Each "spoke" of the wheel represents a key life dimension, such as career, health, relationships, and personal growth.</p>
        <p>By rating your current satisfaction in each area on a scale of 0â€“10, you create a visual snapshot of your life balance. A perfectly round wheel indicates harmony, while an uneven wheel highlights areas that may need more attention. Regular tracking helps you identify patterns, set goals, and measure progress over time.</p>
      </section>

      <section class="about-section">
        <h4>How This App Works</h4>
        <div class="about-features">
          <div class="feature-item">
            <span class="feature-icon">ðŸ”’</span>
            <div>
              <strong>100% Private & Local</strong>
              <p>All your data is stored locally in your browser. Nothing is sent to any server, your entries stay completely private on your device.</p>
            </div>
          </div>
          
          <div class="feature-item">
            <span class="feature-icon">ðŸ’¾</span>
            <div>
              <strong>Persistent Storage</strong>
              <p>Your entries are automatically saved and will persist across sessions. Close the tab and come back anytime, your data will still be there.</p>
            </div>
          </div>
          
          <div class="feature-item">
            <span class="feature-icon">ðŸ“Š</span>
            <div>
              <strong>Track Your Progress</strong>
              <p>Create multiple entries over time to track how your life balance evolves. The "Current Averages" chart aggregates all your entries to show overall trends.</p>
            </div>
          </div>
          
          <div class="feature-item">
            <span class="feature-icon">ðŸ“±</span>
            <div>
              <strong>Works Offline</strong>
              <p>After your first visit, this app works completely offline. No internet connection needed to track your progress.</p>
            </div>
          </div>
        </div>
      </section>

      <section class="about-section">
        <h4>Quick Tips</h4>
        <ul class="tips-list">
          <li><strong>Creating an entry:</strong> Click and drag on each spoke of the wheel to set your satisfaction level (0â€“10). Fill in all 8 areas before saving.</li>
          <li><strong>Date tracking:</strong> Each entry is timestamped. You can review past entries by clicking "View All Entries".</li>
          <li><strong>Export your data:</strong> Use "Export JSON" to download a backup of all your entries. You can import it later if needed.</li>
          <li><strong>Regular check-ins:</strong> For best results, create a new entry weekly or monthly to track meaningful changes over time.</li>
          <li><strong>Goal setting:</strong> Use the insights from your wheel to identify which life areas need more attention and set specific improvement goals.</li>
        </ul>
      </section>
    </div>
  </dialog>

  <!-- Toasts -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <footer class="app-footer">
    <span>Works offline after first load.</span>
    <span>Code available on <a href="https://github.com/UmerTariq1/Wheel-of-Life">GitHub</a></span>
  </footer>

  <script>
    // Register service worker for offline support (GitHub Pages friendly)
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js').catch(() => {/* noop */});
      });
    }
  </script>
</body>
</html>
